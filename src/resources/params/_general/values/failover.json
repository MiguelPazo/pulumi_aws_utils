{
  "_comment": "Multi-region failover configuration - This file contains all resources to manage during failover",
  "primaryRegion": "us-east-1",
  "secondaryRegion": "us-west-2",
  "cloudFront": [
    {
      "hostedZoneId": "Z1234567890ABC",
      "distributionId": "E1234567890ABC",
      "type": "backend",
      "aliasesToRemove": [
        "api.example.com"
      ],
      "aliasesToAdd": [],
      "shouldDisable": true,
      "shouldEnable": false
    },
    {
      "hostedZoneId": "Z1234567890ABC",
      "distributionId": "E0987654321DEF",
      "type": "backend",
      "aliasesToRemove": [],
      "aliasesToAdd": [
        "api.example.com"
      ],
      "shouldDisable": false,
      "shouldEnable": true
    },
    {
      "hostedZoneId": "Z1234567890ABC",
      "distributionId": "E1111111111FED",
      "type": "frontend",
      "aliasesToRemove": [
        "app.example.com"
      ],
      "aliasesToAdd": [],
      "shouldDisable": true,
      "shouldEnable": false
    },
    {
      "hostedZoneId": "Z1234567890ABC",
      "distributionId": "E2222222222GHI",
      "type": "frontend",
      "aliasesToRemove": [],
      "aliasesToAdd": [
        "app.example.com"
      ],
      "shouldDisable": false,
      "shouldEnable": true
    }
  ],
  "s3Buckets": [
    {
      "bucketName": "{{generalPrefixMultiregion}}-{{accountId}}-assets",
      "region": "us-east-1"
    },
    {
      "bucketName": "{{generalPrefixMultiregion}}-{{accountId}}-uploads"
    }
  ],
  "rds": {
    "_comment": "secondaryClusterArn must be the full ARN, not just the cluster identifier",
    "globalClusterId": "{{generalPrefixMultiregion}}-postgres-global",
    "secondaryClusterArn": "arn:aws:rds:us-west-2:{{accountId}}:cluster:{{generalPrefixMultiregion}}-postgres-{{stack}}-us-west-2",
    "secondaryClusterRegion": "us-west-2"
  },
  "efs": [
    {
      "sourceFileSystemId": "fs-0123456789abcdef0"
    }
  ],
  "ecsServices": [
    {
      "clusterName": "{{generalPrefix}}-ecs-cluster",
      "serviceName": "{{generalPrefix}}-backend",
      "region": "us-west-2"
    },
    {
      "clusterName": "{{generalPrefix}}-ecs-cluster",
      "serviceName": "{{generalPrefix}}-worker"
    },
    {
      "clusterName": "{{generalPrefix}}-ecs-cluster",
      "serviceName": "{{generalPrefix}}-scheduler"
    }
  ],
  "eventBridgeRules": [
    {
      "ruleName": "scheduled-backup",
      "region": "us-east-1",
      "shouldDisable": true,
      "shouldEnable": false
    },
    {
      "ruleName": "scheduled-data-sync",
      "region": "us-east-1",
      "shouldDisable": true,
      "shouldEnable": false
    },
    {
      "ruleName": "scheduled-backup",
      "region": "us-west-2",
      "shouldDisable": false,
      "shouldEnable": true
    },
    {
      "ruleName": "scheduled-data-sync",
      "region": "us-west-2",
      "shouldDisable": false,
      "shouldEnable": true
    }
  ]
}
